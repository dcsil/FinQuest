## ADR 009: Database, Authentication, and ORM – Supabase and SQLAlchemy

### Context

We need a simple, scalable, and secure database to handle authentication, store user portfolios, learning modules, quiz history, and progress tracking. We are also using Python for the backend, so we need a Python-native ORM.

### Options

- Supabase – Robust relational DB with type-safe queries.
- SQLAlchemy – Python-native ORM.
- Pure PostgreSQL – Simple, but requires more boilerplate and does not have built-in authentication.
- Prisma – Robust ORM, Typescript-centered but has Python community libraries

### Decision

We chose Supabase because it is a full-stack platform that handles authentication, database, and storage. This simplifies our architecture and allows us to focus on the frontend and backend. We will use SQLAlchemy for the ORM because it is Python-native and easy to integrate with Python. Prisma is not chosen because it is Typescript-centered and does not have as strong Python community libraries.

### Status

Accepted – 2025-10-08

### Consequences

- Simplifies our architecture and allows us to focus on the frontend and backend.
- Supabase handles authentication, database, and storage.
- SQLAlchemy is Python-native and easy to integrate with Python.
- Prisma is not chosen because it is Typescript-centered and does not have as strong Python community libraries.
